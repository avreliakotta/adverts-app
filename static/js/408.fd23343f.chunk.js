"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[408],{4895:function(e,a,n){n(2791);a.Z=n.p+"static/media/symbol-defs.472c1dcf831c8827e6b3df6858582cbf.svg"},9924:function(e,a,n){n.d(a,{Z:function(){return C}});var r=n(9439),t="car-item_carImage__FvQAo",c="car-item_imgWrapper__mTGVJ",s="car-item_titleCard__bV4N0",i="car-item_model__SFlM7",l="car-item_contentWrapper__eiM+m",o="car-item_addressWrapper__BXbJ2",d="car-item_infoWrapper__6VEP0",m="car-item_learnMoreBtn__3lLKh",u="car-item_text__BQJ-b",p="car-item_iconBtn__MFp07",_="car-item_heartIcon__u+n4b",x=n(4895),h=n(2791),f=n(4420),j=n(360),N=n(8156),b=n(65),g=n(5820),v=n(6038),L=n(184),C=function(e){var a=e.carData,n=e.index,C=(0,h.useState)(null),y=(0,r.Z)(C,2),k=y[0],B=y[1],F=(0,f.v9)(b.OG),I=(0,f.I0)(),T=(0,f.v9)(v.T).some((function(e){return e.id===a.id})),W=a.address.split(",");if(W.length<3)return(0,L.jsx)("div",{children:"Loading..."});var Z=W[1].trim(),S=W[2].trim();return a&&a.make&&a.model?(0,L.jsxs)("li",{children:[(0,L.jsxs)("div",{className:c,children:[(0,L.jsx)("img",{className:t,src:a.img,alt:"".concat(a.make," ").concat(a.model)}),(0,L.jsx)("button",{type:"button",className:p,onClick:function(){I(T?(0,g.zm)(a):(0,g._p)(a))},children:(0,L.jsx)("svg",{className:_,children:T?(0,L.jsx)("use",{href:"".concat(x.Z,"#icon-Vector-1")}):(0,L.jsx)("use",{href:"".concat(x.Z,"#icon-heart-1")})})}),(0,L.jsxs)("div",{className:l,children:[(0,L.jsxs)("h2",{className:s,children:[a.make," ",(0,L.jsx)("span",{className:i,children:a.model}),","," ",a.year]}),(0,L.jsx)("p",{className:s,children:"".concat(a.rentalPrice)})]})]}),(0,L.jsxs)("div",{className:o,children:[(0,L.jsx)("p",{className:u,children:"".concat(Z)}),(0,L.jsx)("p",{className:u,children:"".concat(S)}),(0,L.jsx)("p",{className:u,children:"".concat(a.rentalCompany)})]}),(0,L.jsxs)("div",{className:d,children:[(0,L.jsx)("p",{className:u,children:"".concat(a.type)}),(0,L.jsx)("p",{className:u,children:"".concat(a.model)}),(0,L.jsx)("p",{className:u,children:"".concat(a.mileage)})]}),(0,L.jsx)("button",{type:"button",className:m,onClick:function(){!function(e){B(e)}(n)},children:"Learn more"}),null!==k&&(0,L.jsx)(j.Z,{index:k,close:function(){B(null)},children:(0,L.jsx)(N.Z,{carDataList:F,parentIndex:k})})]}):(0,L.jsx)("div",{children:"Loading..."})}},8156:function(e,a,n){n.d(a,{Z:function(){return l}});var r=n(4420),t=n(65),c={carImage:"card-modal_carImage__EjPKb",titleCard:"card-modal_titleCard__2BXSg",model:"card-modal_model__eHtt6",text:"card-modal_text__yrvNG",contentWrapper:"card-modal_contentWrapper__ccQ5R",descriptionText:"card-modal_descriptionText__gbgKd",infoWrapper:"card-modal_infoWrapper__7hYB6",subtitle:"card-modal_subtitle__N6ZHS",functionalitiesWrapper:"card-modal_functionalitiesWrapper__0llFG",specifications:"card-modal_specifications__rOZQ2",part:"card-modal_part__ezzVP",number:"card-modal_number__FZvMU",specificationsWrapper:"card-modal_specificationsWrapper__ZyNbI",rentalBtn:"card-modal_rentalBtn__9f8P6"},s=n(184),i=function(e){var a=e.carData,n=a.address.split(",");if(n.length<3)return(0,s.jsx)("div",{children:"Loading..."});var r=n[1].trim(),t=n[2].trim();if(!a)return null;var i=a.rentalConditions.split("\n"),l=a.mileage.toLocaleString();return(0,s.jsxs)("div",{className:c.modalCardWrapper,children:[(0,s.jsx)("img",{className:c.carImage,src:a.img,alt:"".concat(a.make," ").concat(a.model)}),(0,s.jsxs)("h2",{className:c.titleCard,children:[a.make," ",(0,s.jsx)("span",{className:c.model,children:a.model}),","," ",a.year]}),(0,s.jsxs)("div",{className:c.contentWrapper,children:[(0,s.jsx)("p",{className:c.text,children:"".concat(r)}),(0,s.jsx)("p",{className:c.text,children:"".concat(t)}),(0,s.jsxs)("p",{className:c.text,children:["Id: ",a.id]}),(0,s.jsxs)("p",{className:c.text,children:["Year: ",a.year]}),(0,s.jsxs)("p",{className:c.text,children:["Type: ",a.type]})]}),(0,s.jsxs)("div",{className:c.infoWrapper,children:[(0,s.jsxs)("p",{className:c.text,children:["Fuel Consumption: ",a.fuelConsumption," "]}),(0,s.jsxs)("p",{className:c.text,children:["Engine Size: ",a.engineSize," "]})]}),(0,s.jsx)("p",{className:c.descriptionText,children:a.description}),(0,s.jsx)("h3",{className:c.subtitle,children:"Accessories and functionalities:"}),(0,s.jsxs)("div",{className:c.functionalitiesWrapper,children:[(0,s.jsx)("p",{className:c.text,children:a.accessories[0]}),(0,s.jsxs)("p",{className:c.text,children:[a.accessories[1]," "]}),(0,s.jsxs)("p",{className:c.text,children:[a.accessories[2]," "]}),(0,s.jsx)("p",{className:c.text,children:a.functionalities[0]}),(0,s.jsx)("p",{className:c.text,children:a.functionalities[1]}),(0,s.jsx)("p",{className:c.text,children:a.functionalities[2]})]}),(0,s.jsx)("h3",{className:c.subtitle,children:"Rental Conditions: "}),(0,s.jsxs)("div",{className:c.specificationsWrapper,children:[(0,s.jsxs)("p",{className:c.specifications,children:[(0,s.jsx)("span",{className:c.part,children:i[0].includes(":")&&"Minimum age:"}),(0,s.jsx)("span",{className:c.number,children:i[0].includes(":")&&i[0].split(":")[1]})]}),(0,s.jsx)("p",{className:c.specifications,children:i[1]}),(0,s.jsx)("p",{className:c.specifications,children:i[2]}),(0,s.jsxs)("p",{className:c.specifications,children:["Mileage: ",(0,s.jsx)("span",{className:c.number,children:l})]}),(0,s.jsxs)("p",{className:c.specifications,children:[" ","Price: ",(0,s.jsx)("span",{className:c.number,children:a.rentalPrice})]})]}),(0,s.jsx)("a",{href:"tel:+380730000000",className:c.rentalBtn,children:"Rental car"})]})},l=function(e){e.carData;var a=e.parentIndex,n=(0,r.v9)(t.OG)[a];return n?(0,s.jsx)("ul",{children:(0,s.jsx)(i,{carData:n},"".concat(n.id,"_").concat(a))}):(0,s.jsx)("div",{children:"Loading..."})}},360:function(e,a,n){n.d(a,{Z:function(){return u}});var r="modal_closeBtn__Dq10z",t="modal_closeIcon__fFqeR",c="modal_modal__Nszx8",s="modal_backdrop__hpFL1",i=n(4895),l=n(2791),o=n(4164),d=n(184),m=document.querySelector("#modal-root"),u=function(e){var a=e.close,n=e.children,u=function(e){var n=e.target,r=e.currentTarget,t=e.code;n!==r&&"Escape"!==t||a()};return(0,l.useEffect)((function(){return document.addEventListener("keydown",u),function(){return document.removeEventListener("keydown",u)}})),(0,o.createPortal)((0,d.jsx)("div",{className:s,onClick:u,children:(0,d.jsxs)("div",{className:c,children:[(0,d.jsx)("button",{className:r,onClick:a,children:(0,d.jsx)("svg",{className:t,children:(0,d.jsx)("use",{href:"".concat(i.Z,"#icon-x-1")})})}),n]})}),m)}},1408:function(e,a,n){n.r(a),n.d(a,{default:function(){return L}});var r=n(9439),t="catalog-page_container__-VN5I",c="catalog-page_loadMoreBtn__0ZaML",s="catalog-page_message__xYz+R",i=n(2791),l=n(65),o=n(4420),d=n(4293),m="car-list_list__qWJ7y",u=n(9924),p=n(184),_=function(e){var a=e.filteredAdverts;return a&&0!==a.length?(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("ul",{className:m,children:a&&a.map((function(e,a){return(0,p.jsx)(u.Z,{carData:e,index:a},"".concat(e.id,"_").concat(a))}))})}):(0,p.jsx)("div",{children:"Loading..."})},x={container:"filter-car-brand_container__1VJ90",selectLabel:"filter-car-brand_selectLabel__d4uhV",select:"filter-car-brand_select__A2TVK",iconWrapper:"filter-car-brand_iconWrapper__TlGiF",optionListOpen:"filter-car-brand_optionListOpen__4VHC7",optionListClosed:"filter-car-brand_optionListClosed__jTlJu",brandList:"filter-car-brand_brandList__mL+yS",optionPriceListOpen:"filter-car-brand_optionPriceListOpen__h2l0Y",optionPriceListClosed:"filter-car-brand_optionPriceListClosed__vIS4I",priceList:"filter-car-brand_priceList__KekRz",selectWrapper:"filter-car-brand_selectWrapper__mfxCr",brandOption:"filter-car-brand_brandOption__TH-rr",searchBtn:"filter-car-brand_searchBtn__htX-n",selectIcon:"filter-car-brand_selectIcon__UeBUy",buttonList:"filter-car-brand_buttonList__mwZMV",iconDown:"filter-car-brand_iconDown__HtrBD",range:"filter-car-brand_range__aqzCB",from:"filter-car-brand_from__IHTUS",wrapper:"filter-car-brand_wrapper__RGqN+",textLeft:"filter-car-brand_textLeft__dTqwc",to:"filter-car-brand_to__pXxU+",label:"filter-car-brand_label__aB2JF",inputContainer:"filter-car-brand_inputContainer__GQlT-"},h=n(1663),f=n(4895),j=["Buick","Volvo","HUMMER","Subaru","Mitsubishi","Nissan","Lincoln","GMC","Hyundai","MINI","Bentley","Mercedes-Benz","Aston Martin","Pontiac","Lamborghini","Audi","BMW","Chevrolet","Land Rover","Chrysler","Kia","Land"],N=n(6038),b=n(3402),g=[20,30,40,50,60,70,80,90,100,110,120,130,140,150,160,170,180,190,200,210,220,230,240,250,260,270,280,290,300],v=function(){var e=(0,o.I0)(),a=(0,o.v9)(N.o),n=a.brand,t=a.price,c=a.mileageFrom,s=a.mileageTo,l=(0,i.useState)(n||""),d=(0,r.Z)(l,2),m=d[0],u=d[1],_=(0,i.useState)(t||""),v=(0,r.Z)(_,2),L=v[0],C=v[1],y=(0,i.useState)(c||""),k=(0,r.Z)(y,2),B=k[0],F=k[1],I=(0,i.useState)(s||""),T=(0,r.Z)(I,2),W=T[0],Z=T[1],S=(0,i.useState)(!1),w=(0,r.Z)(S,2),P=w[0],M=w[1],O=(0,i.useState)(!1),D=(0,r.Z)(O,2),E=D[0],V=D[1],z=function(e,a){"mileageFrom"===a?F(e):Z(e),setTimeout((function(){b.ZP.error('"From" should be less or equal "To"',{position:"top-center"})}),1e3)},G=function(e){var a=e.target,n=a.value;switch(a.name){case"brand":u(n);break;case"price":C(n.toString());break;case"mileageFrom":""!==W&&Number(W)<=n?z(W,"mileageFrom"):F(n.toString());break;case"mileageTo":Z(n.toString());break;default:console.log("Looks like you're using inputs incorrectly")}},R=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")};return(0,p.jsxs)("div",{className:x.container,children:[(0,p.jsxs)("div",{className:x.selectWrapper,children:[(0,p.jsx)("label",{htmlFor:"Brand",className:x.selectLabel,children:"Car brand"}),(0,p.jsxs)("div",{className:x.iconWrapper,children:[(0,p.jsx)("input",{type:"text",value:m,name:"brand",onChange:G,onFocus:function(){return M(!0)},onBlur:function(){return M(!1)},className:x.select,placeholder:"Enter the text"}),(0,p.jsx)("div",{className:"".concat(x.optionList," ").concat(P?x.optionListOpen:x.optionListClosed),onMouseDown:function(e){if("LI"===e.target.nodeName){var a=e.target.textContent;u(a),M(!1)}},children:(0,p.jsx)("ul",{className:x.brandList,children:j.map((function(e,a){return(0,p.jsx)("li",{className:x.brandOption,children:e},a)}))})}),(0,p.jsx)("svg",{className:"".concat(x.selectIcon," ").concat(P?x.selectIcon:x.iconDown),children:(0,p.jsx)("use",{href:"".concat(f.Z,"#icon-chevron-down")})})]})]}),(0,p.jsxs)("div",{className:x.selectWrapper,children:[(0,p.jsx)("label",{htmlFor:"Price",className:x.selectLabel,children:"Price/ 1 hour"}),(0,p.jsxs)("div",{className:x.iconWrapper,children:[(0,p.jsx)("input",{type:"text",value:"To ".concat(L," $"),name:"price",onChange:G,onFocus:function(){return V(!0)},onBlur:function(){return V(!1)},className:x.select,placeholder:"Price $"}),(0,p.jsx)("div",{className:"".concat(x.optionList," ").concat(E?x.optionPriceListOpen:x.optionPriceListClosed),onMouseDown:function(e){if("LI"===e.target.nodeName){var a=e.target.textContent;C(a),V(!1)}},children:(0,p.jsx)("ul",{className:x.priceList,children:g.map((function(e,a){return(0,p.jsx)("li",{className:x.brandOption,value:e,children:e},a)}))})}),(0,p.jsx)("svg",{className:"".concat(x.selectIcon," ").concat(E?x.selectIcon:x.iconDown),children:(0,p.jsx)("use",{href:"".concat(f.Z,"#icon-chevron-down")})})]})]}),(0,p.jsxs)("div",{className:x.range,children:[(0,p.jsx)("label",{htmlFor:"from-to",className:x.label,children:"Car mileage / km"}),(0,p.jsxs)("div",{className:x.inputContainer,children:[(0,p.jsxs)("div",{className:x.wrapper,children:[(0,p.jsx)("span",{className:x.textLeft,children:"From"}),(0,p.jsx)("input",{type:"text",name:"mileageFrom",value:R(B),className:x.from,onChange:G})]}),(0,p.jsxs)("div",{className:x.wrapper,children:[(0,p.jsx)("span",{className:x.textLeft,children:"To"}),(0,p.jsx)("input",{type:"text",name:"mileageTo",value:R(W),className:x.to,onChange:G,onBlur:function(){""!==B&&Number(B)>W&&z(B)}})]})]})]}),(0,p.jsxs)("ul",{className:x.buttonList,children:[(0,p.jsx)("li",{children:(0,p.jsx)("button",{type:"button",className:x.searchBtn,onClick:function(){e((0,h.r)({brand:m,price:L,mileageFrom:B,mileageTo:W}))},children:"Search"})}),(0,p.jsx)("li",{children:(0,p.jsx)("button",{type:"button",className:x.searchBtn,onClick:function(){u(""),C(""),F(""),Z(""),e((0,h.r)({brand:"",price:null,mileageFrom:null,mileageTo:null}))},children:"Reset"})})]})]})},L=function(){var e=(0,i.useState)(1),a=(0,r.Z)(e,2),n=a[0],m=a[1],u=(0,o.I0)(),x=(0,o.v9)(l.rE),h=(0,o.v9)(l.OG),f=(0,o.v9)(l.xU);(0,i.useEffect)((function(){console.log("Current page set to 1"),console.log(n),u((0,d.Q)({page:n,limit:12}))}),[u,n]),(0,i.useEffect)((function(){m(1)}),[]);var j=h.length/12<n;console.log("lastPage",j);var N=!j&&!f&&x.length>0;return(0,p.jsxs)("div",{className:t,children:[(0,p.jsx)(v,{}),(0,p.jsx)(_,{filteredAdverts:x}),0===x.length&&(0,p.jsx)("div",{className:s,children:"There are no adverts for your request.Try setting other search parameters"}),N&&(0,p.jsx)("button",{type:"button",className:c,onClick:function(){var e=n+1;u((0,d.Q)({currentPage:e,limit:12})),m(e)},disabled:f,children:"Load more"})]})}},65:function(e,a,n){n.d(a,{OG:function(){return t},rE:function(){return s},xU:function(){return c}});var r=n(3553),t=function(e){return e.adverts.item},c=function(e){return e.adverts.loading},s=(0,r.P1)([t,function(e){return e.filter}],(function(e,a){var n=a.brand,r=a.price,t=a.mileageFrom,c=a.mileageTo,s=function(e){return null===e?0:parseFloat(e.split(",").join(""))},i=!n&&!r&&!t&&!c;return e.filter((function(e){return!!i||(""===n||e.make.toLowerCase().includes(n.toLowerCase()))&&(!r||Number(e.rentalPrice.slice(1))<=Number(r))&&(!t||e.mileage>=s(t))&&(!c||e.mileage<=s(c))}))}))},6038:function(e,a,n){n.d(a,{T:function(){return r},o:function(){return t}});var r=function(e){return e.favorites.items},t=function(e){return e.filter}}}]);
//# sourceMappingURL=408.fd23343f.chunk.js.map